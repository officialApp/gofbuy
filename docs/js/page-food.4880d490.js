(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-food"],{"4b97":function(t,e,a){"use strict";a("b64b"),a("96cf");var n=a("1da1");function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,a){return e&&o(t.prototype,e),a&&o(t,a),t}var c=a("bc3a"),i=a.n(c),l=!1,u="",p="",d=(localStorage.getItem("auth._token.local"),0),h=l?"http://localhost:8080/auto/api2.php":"http://localhost:8080/auto/api.php",f=function(){function t(){r(this,t)}return s(t,[{key:"collection",value:function(t){return u=t,this}},{key:"doc",value:function(t){return t&&(p=t),this}},{key:"set",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(t){return Object.keys(t)},a=new FormData,l&&a.append("header",localStorage.getItem("auth._token.local")),a.append("table",u),a.append("data",JSON.stringify(e)),a.append("type","set"),a.append("key",n(e)),t.next=9,i.a.post(h,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("table not found"),d++,d<2&&r.set(e)}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"get",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("table",u),l&&a.append("header",localStorage.getItem("auth._token.local")),a.append("select",e),""!=p.length&&a.append("id","".concat(p)),a.append("type","get"),t.next=8,i.a.post(h,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("table not found")}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"delete",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,l&&a.append("header",localStorage.getItem("auth._token.local")),a.append("table",u),a.append("select",e),""!=p.length&&a.append("id","".concat(p)),a.append("type","delete"),t.next=8,i.a.post(h,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("Data tidak ditemukan")}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"select",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,l&&a.append("header",localStorage.getItem("auth._token.local")),a.append("table",u),a.append("select",e),""!=p.length&&a.append("id","".concat(p)),a.append("type","select"),t.next=8,i.a.post(h,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("table not found")}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e["a"]=f},"70b3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII="},"90fa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{height:"200px"}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"p-2 shadow-lg  bg-white"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"p-3"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.kategoris,expression:"kategoris"}],staticClass:"form-control",attrs:{placeholder:"kategori"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.kategoris=e.target.multiple?a:a[0]}}},[n("option",{attrs:{value:""}},[t._v("-- Kategori --")]),t._l(t.kategori,(function(e,a){return n("option",{key:a},[t._v(t._s(e.kategori))])}))],2),n("div",{staticClass:"sm-form "},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"search",name:"search",placeholder:"search ..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]),t._l(t.items,(function(e,r){return n("div",{key:r+"key",staticClass:"col-6 mt-3"},[n("img",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"img-thumbnail",staticStyle:{height:"130px",width:"100%",display:"block",margin:"auto"},attrs:{src:e.gambar.length>10?e.gambar:a("70b3"),alt:""}}),n("div",{staticClass:"rounded-lg shadow-lg p-2"},[n("p",{staticClass:"font-bold"},[t._v(t._s(e.nama_makanan))]),n("p",{staticClass:"float-right"},[t._v("Stok : "+t._s(e.jumlah))]),n("p",{staticClass:"font-bold font-italic"},[t._v("Rp."+t._s(e.harga))]),e.jumlah>0?n("div",[n("button",{staticClass:"btn btn-sm btn-style9 btn-block",staticStyle:{background:"green"},attrs:{type:"button"},on:{click:function(e){return t.tambah(r)}}},[t._v("Tambah +")]),e.total>0?n("button",{staticClass:"btn btn-sm btn-style9 btn-block",staticStyle:{background:"red"},attrs:{type:"button"},on:{click:function(e){return t.kurang(r)}}},[t._v("Hapus")]):t._e()]):n("div",[n("button",{staticClass:"btn btn-sm btn-style9 btn-block",staticStyle:{background:"grey"},attrs:{type:"button"},on:{click:function(e){return t.tambah(r)}}},[t._v("HABIS")])]),e.total>0?n("p",[t._v("Total : "+t._s(e.total))]):t._e()])])})),t._m(0),n("div",{staticClass:"col-12"},[n("button",{staticClass:"btn btn-sm btn-style9 btn-block",staticStyle:{position:"fixed",bottom:"0",left:"0"},attrs:{type:"button"},on:{click:function(e){return t.$router.push("/cart")}}},[t._v("Keranjang ! "),n("span",{staticClass:"typcn typcn-shopping-cart"})])])],2)])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("br"),a("br"),a("br")])}],o=(a("4de4"),a("c975"),a("d81d"),a("ac1f"),a("841c"),a("5530")),s=(a("bc3a"),a("8aa5")),c=a.n(s),i=a("4b97"),l=c.a.firestore(),u=(new i["a"],{data:function(){return{datanya:[],total:0,kategori:[],kategoris:"",search:"",foods:[{img:"@/static/gambar1.jpg"}]}},computed:{items:function(){var t=this,e=this.$store.state.cart;return e=e.filter((function(e){if(-1!=e.nama_makanan.toLowerCase().indexOf(t.search.toLowerCase()))return e})),e=e.filter((function(e){if(-1!=e.kategori.toLowerCase().indexOf(t.kategoris.toLowerCase()))return e})),e}},methods:{getKategori:function(){var t=this;l.collection("kategori").onSnapshot((function(e){var a=e.docs.map((function(t){return t.data()}));t.kategori=a}))},getData:function(){var t=this;l.collection("food").onSnapshot((function(e){var a=e.docs.map((function(t){return Object(o["a"])({id:t.id,total:0},t.data())}));t.datanya=a,t.$store.state.cart=a}))},tambah:function(t){this.$store.state.cart[t].total<this.$store.state.cart[t].jumlah&&this.$store.state.cart[t].total++,console.log(this.$store.state.cart[t])},kurang:function(t){this.$store.state.cart[t].total>0&&(this.$store.state.cart[t].total=this.$store.state.cart[t].total-1)},checkout:function(){var t=this.datanya;t=t.filter((function(t){if(t.total>0)return t})),confirm("Apakah sudah yakin dengan orderan ?")&&(this.$store.state.cart=t,console.log(t),this.$router.push("/cart"))}},mounted:function(){this.getKategori()},created:function(){this.getData()},layout:"admin"}),p=u,d=a("2877"),h=Object(d["a"])(p,n,r,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=page-food.4880d490.js.map