(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-food"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"4b97":function(t,e,a){"use strict";a("4160"),a("b64b"),a("ac1f"),a("5319"),a("159b");var n=a("53ca"),r=(a("96cf"),a("1da1"));function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,a){return e&&c(t.prototype,e),a&&c(t,a),t}var i=a("bc3a"),l=a.n(i),u=!1,p=!1,d="php",f="",h="",g="https://upload.egov.balangankab.go.id",m=0,v=u?g+"/api2.php":g+"/api.php",b=function(){function t(){o(this,t)}return s(t,[{key:"collection",value:function(t){return f=t,this}},{key:"doc",value:function(t){return t&&(h=t),this}},{key:"set",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,r,o,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=function(t){return Object.keys(t)},a=new FormData,console.log("vdata",e),r=Object.keys(e),r.forEach((function(t){console.log(Object(n["a"])(e[t])),"string"==typeof e[t]&&(e[t]=e[t].replace(/'/g,"\\'"),e[t]=e[t].replace(/"/g,'"'))})),u&&a.append("header",localStorage.getItem("auth._token.local")),a.append("table",f),a.append("scramble",p),a.append("backend",d),p?a.append("data",A(JSON.stringify(e))):a.append("data",JSON.stringify(e)),a.append("type","set"),a.append("key",o(e)),t.next=14,l.a.post(v,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("table not found"),m++,m<2&&c.set(e)}));case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"get",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("table",f),a.append("backend",d),u&&a.append("header",localStorage.getItem("auth._token.local")),a.append("select",e),""!=h.length&&a.append("id","".concat(h)),a.append("type","get"),t.next=9,l.a.post(v,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("table not found")}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"delete",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,u&&a.append("header",localStorage.getItem("auth._token.local")),a.append("table",f),a.append("backend",d),a.append("select",e),""!=h.length&&a.append("id","".concat(h)),a.append("type","delete"),t.next=9,l.a.post(v,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("Data tidak ditemukan")}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"select",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("scramble",p),u&&a.append("header",localStorage.getItem("auth._token.local")),a.append("table",f),a.append("backend",d),p?a.append("select",A(e)):a.append("select",e),""!=h.length&&a.append("id","".concat(h)),a.append("type","select"),t.next=10,l.a.post(v,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("table not found")}));case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"ceklogin",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,t.abrupt("return",l.a.post(g+"/getUser.php",n,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(t){if(console.log("resdata",t.data),t.data)return e.commit("changeUsers",t.data),localStorage.setItem("users",JSON.stringify(t.data)),t;throw Error})).catch((function(t){throw Error})));case 2:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getuser",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=new FormData,l.a.post(g+"/getUser.php",a,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(t){return console.log(t),e.commit("changeUsers",t.data[0]),localStorage.setItem("users",JSON.stringify(t.data[0])),t.data[0]}));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();function A(t){for(var e="",a="",n=0;n<t.length;n++)e="",e=t.charAt(n),"a"==e?e=e.replace("a","x"):"b"==e?e=e.replace("b","v"):"c"==e?e=e.replace("c","u"):"d"==e?e=e.replace("d","w"):"e"==e?e=e.replace("e","y"):"f"==e?e=e.replace("f","z"):"g"==e?e=e.replace("g","t"):"h"==e?e=e.replace("h","s"):"i"==e?e=e.replace("i","r"):"j"==e?e=e.replace("j","q"):"k"==e?e=e.replace("k","p"):"l"==e?e=e.replace("l","o"):"m"==e?e=e.replace("m","n"):"z"==e?e=e.replace("z","f"):"y"==e?e=e.replace("y","e"):"x"==e?e=e.replace("x","a"):"w"==e?e=e.replace("w","d"):"v"==e?e=e.replace("v","b"):"u"==e?e=e.replace("u","c"):"t"==e?e=e.replace("t","g"):"s"==e?e=e.replace("s","h"):"r"==e?e=e.replace("r","i"):"q"==e?e=e.replace("q","j"):"p"==e?e=e.replace("p","k"):"o"==e?e=e.replace("o","l"):"n"==e?e=e.replace("n","m"):"1"==e?e=e.replace("1","0"):"2"==e?e=e.replace("2","8"):"3"==e?e=e.replace("3","9"):"4"==e?e=e.replace("4","7"):"5"==e?e=e.replace("5","6"):"0"==e?e=e.replace("0","1"):"8"==e?e=e.replace("8","2"):"9"==e?e=e.replace("9","3"):"7"==e?e=e.replace("7","4"):"6"==e?e=e.replace("6","5"):" "==e?e=e.replace(" ","_"):"_"==e?e=e.replace("_"," "):"*"==e?e=e.replace("*","/"):"/"==e?e=e.replace("/","*"):","==e?e=e.replace(",","^"):"^"==e&&(e=e.replace("^",",")),a+=e;return a}e["a"]=b},"70b3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII="},"841c":function(t,e,a){"use strict";var n=a("d784"),r=a("825a"),o=a("1d80"),c=a("129f"),s=a("14c3");n("search",1,(function(t,e,a){return[function(e){var a=o(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var o=r(t),i=String(this),l=o.lastIndex;c(l,0)||(o.lastIndex=0);var u=s(o,i);return c(o.lastIndex,l)||(o.lastIndex=l),null===u?-1:u.index}]}))},"90fa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{height:"100px"}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"p-2 shadow-lg  bg-white"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"p-3"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.kategoris,expression:"kategoris"}],staticClass:"form-control",attrs:{placeholder:"kategori"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.kategoris=e.target.multiple?a:a[0]}}},[n("option",{attrs:{value:""}},[t._v("-- Kategori --")]),t._l(t.kategori,(function(e,a){return n("option",{key:a},[t._v(t._s(e.kategori))])}))],2),n("div",{staticClass:"sm-form "},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"search",name:"search",placeholder:"search ..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]),t._l(t.items,(function(e,r){return n("div",{key:r+"key",staticClass:"col-6 mt-3"},[n("vue-lazy-component",[n("img",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"img-thumbnail",staticStyle:{height:"130px",width:"100%",display:"block",margin:"auto"},attrs:{src:e.gambar.length>10?e.gambar:a("70b3"),alt:""}}),n("div",{staticClass:"rounded-lg shadow-lg p-2"},[n("p",{staticClass:"font-bold"},[t._v(t._s(e.nama_makanan))]),n("p",{staticClass:"float-right"},[t._v("Stok : "+t._s(e.jumlah))]),n("p",{staticClass:"font-bold font-italic"},[t._v("Rp."+t._s(e.harga))]),e.jumlah>0?n("div",[n("button",{staticClass:"btn btn-sm btn-style9 btn-block",staticStyle:{background:"green"},attrs:{type:"button"},on:{click:function(e){return t.tambah(r)}}},[t._v("Tambah +")]),e.total>0?n("button",{staticClass:"btn btn-sm btn-style9 btn-block",staticStyle:{background:"red"},attrs:{type:"button"},on:{click:function(e){return t.kurang(r)}}},[t._v("Hapus")]):t._e()]):n("div",[n("button",{staticClass:"btn btn-sm btn-style9 btn-block",staticStyle:{background:"grey"},attrs:{type:"button"},on:{click:function(e){return t.tambah(r)}}},[t._v("HABIS")])]),e.total>0?n("p",[t._v("Total : "+t._s(e.total))]):t._e()])])],1)})),t._m(0),n("div",{staticClass:"col-12"},[n("button",{staticClass:"btn btn-sm btn-style9 btn-block",staticStyle:{position:"fixed",bottom:"0",left:"0"},attrs:{type:"button"},on:{click:function(e){return t.$router.push("/cart")}}},[t._v("Keranjang ! "),n("span",{staticClass:"typcn typcn-shopping-cart"})])])],2)])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("br"),a("br"),a("br")])}],o=(a("4de4"),a("c975"),a("d81d"),a("ac1f"),a("841c"),a("5530")),c=(a("bc3a"),a("8aa5")),s=a.n(c),i=a("4b97"),l=s.a.firestore(),u=(new i["a"],{data:function(){return{datanya:[],total:0,kategori:[],kategoris:"",search:"",foods:[{img:"@/static/gambar1.jpg"}]}},computed:{items:function(){var t=this,e=this.$store.state.cart;return e=e.filter((function(e){if(-1!=e.nama_makanan.toLowerCase().indexOf(t.search.toLowerCase()))return e})),e=e.filter((function(e){if(-1!=e.kategori.toLowerCase().indexOf(t.kategoris.toLowerCase()))return e})),e}},methods:{getKategori:function(){var t=this;l.collection("kategori").onSnapshot((function(e){var a=e.docs.map((function(t){return t.data()}));t.kategori=a}))},getData:function(){var t=this;l.collection("food").onSnapshot((function(e){var a=e.docs.map((function(t){return Object(o["a"])({id:t.id,total:0},t.data())}));t.datanya=a,t.$store.state.cart=a}))},tambah:function(t){this.$store.state.cart[t].total<this.$store.state.cart[t].jumlah&&this.$store.state.cart[t].total++,console.log(this.$store.state.cart[t])},kurang:function(t){this.$store.state.cart[t].total>0&&(this.$store.state.cart[t].total=this.$store.state.cart[t].total-1)},checkout:function(){var t=this.datanya;t=t.filter((function(t){if(t.total>0)return t})),confirm("Apakah sudah yakin dengan orderan ?")&&(this.$store.state.cart=t,console.log(t),this.$router.push("/cart"))}},mounted:function(){this.getKategori()},created:function(){this.getData()},layout:"admin"}),p=u,d=a("2877"),f=Object(d["a"])(p,n,r,!1,null,null,null);e["default"]=f.exports},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,o=a("1dde"),c=a("ae40"),s=o("map"),i=c("map");n({target:"Array",proto:!0,forced:!s||!i},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=page-food.03f0bf42.js.map