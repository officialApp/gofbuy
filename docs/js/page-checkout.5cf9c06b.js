(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-checkout"],{"4b97":function(t,e,a){"use strict";a("b64b"),a("96cf");var n=a("1da1");function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,a){return e&&o(t.prototype,e),a&&o(t,a),t}var c=a("bc3a"),i=a.n(c),l=!1,u="",d="",p=(localStorage.getItem("auth._token.local"),0),f=l?"http://localhost:8080/auto/api2.php":"http://localhost:8080/auto/api.php",h=function(){function t(){r(this,t)}return s(t,[{key:"collection",value:function(t){return u=t,this}},{key:"doc",value:function(t){return t&&(d=t),this}},{key:"set",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(t){return Object.keys(t)},a=new FormData,l&&a.append("header",localStorage.getItem("auth._token.local")),a.append("table",u),a.append("data",JSON.stringify(e)),a.append("type","set"),a.append("key",n(e)),t.next=9,i.a.post(f,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("table not found"),p++,p<2&&r.set(e)}));case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"get",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("table",u),l&&a.append("header",localStorage.getItem("auth._token.local")),a.append("select",e),""!=d.length&&a.append("id","".concat(d)),a.append("type","get"),t.next=8,i.a.post(f,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("table not found")}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"delete",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,l&&a.append("header",localStorage.getItem("auth._token.local")),a.append("table",u),a.append("select",e),""!=d.length&&a.append("id","".concat(d)),a.append("type","delete"),t.next=8,i.a.post(f,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("Data tidak ditemukan")}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"select",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,l&&a.append("header",localStorage.getItem("auth._token.local")),a.append("table",u),a.append("select",e),""!=d.length&&a.append("id","".concat(d)),a.append("type","select"),t.next=8,i.a.post(f,a).then((function(t){return console.log(t),t.data})).catch((function(t){console.log("table not found")}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e["a"]=h},"70b3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII="},"8b6f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{height:"200px"}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"p-2 shadow-lg  bg-white"},[t._m(0),n("hr",{staticClass:"style13 mt-2 mb-2"}),t._l(t.list,(function(e,r){return n("div",{key:r,staticClass:"p-2"},[n("hr",{staticClass:"style3"}),n("p",{staticClass:"font-bold ml-4"},[t._v(" "+t._s(t.format(e.tanggal.toDate()))+" ")]),t._l(e.keranjang,(function(e,r){return n("div",{key:r+"hello",staticClass:"shadow-lg p-3 border-b-2 border-blue-700 rounded-lg",staticStyle:{background:"linear-gradient(90deg, rgba(255,255,255,1) 0%, rgba(247,247,251,1) 35%, rgba(195,227,233,1) 100%)"}},[n("img",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"img-thumbnail float-left mr-2",staticStyle:{height:"50px",width:"50px"},attrs:{src:e.gambar.length>10?e.gambar:a("70b3"),alt:""}}),n("p",{staticClass:"pl-2 text-sm font-bold"},[t._v(t._s(e.nama_makanan))]),n("p",{staticClass:"pl-2 text-sm font-bold"},[t._v("Rp."+t._s(e.harga))]),n("p",{staticClass:"pl-2 text-sm font-bold "},[t._v("Total : "+t._s(e.total))])])}))],2)})),n("br"),n("br"),n("hr",{staticClass:"style9 mt-2 mb-2"})],2)])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-center text-2xl font-bold"},[t._v("HISTORY PEMBELIAN"),a("span",{staticClass:"typcn typcn-shopping-cart"})])}],o=(a("4de4"),a("4160"),a("d81d"),a("159b"),a("5530")),s=(a("bc3a"),a("8aa5")),c=a.n(s),i=a("4b97"),l=a("03a0"),u=c.a.firestore(),d=(new i["a"],{data:function(){return{datanya:{},foods:[{img:"@/static/gambar1.jpg"}]}},computed:{list:function(){var t=this.datanya;return t=_.orderBy(t,["tanggal"],["desc"]),t}},methods:{format:function(t){return this.$datefns.format(new Date(t),"dddd, DD MMMM YYYY :HH:mm",{locale:l})},getData:function(){var t=this;u.collection("users/".concat(this.$store.state.users.uid,"/keranjang")).onSnapshot((function(e){var a=e.docs.map((function(t){return Object(o["a"])({id:t.id},t.data())}));console.log(a),t.datanya=a}))},kirim:function(){confirm("Apakah sudah yakin dengan orderan anda ?")&&(this.$store.state.cart=this.$store.state.cart.filter((function(t){if(t.total>0)return t})),this.$store.state.cart.forEach((function(t){u.collection("food").doc(t.id).get().then((function(e){var a=e.data();a.jumlah=a.jumlah-t.total,console.log(a),u.collection("food").doc(t.id).set(a,{merge:!0}).then((function(e){console.log(t.nama_makanan+" Updated")}))}))})),u.collection("users/".concat(this.$store.state.users.uid,"/keranjang")).doc().set(this.$store.state.cart,{merge:!0}).then((function(t){alert("Berhasil dimasukkan ke keranjang")})))}},mounted:function(){var t=this;setTimeout((function(){t.getData()}),3e3)},layout:"admin"}),p=d,f=a("2877"),h=Object(f["a"])(p,n,r,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=page-checkout.5cf9c06b.js.map